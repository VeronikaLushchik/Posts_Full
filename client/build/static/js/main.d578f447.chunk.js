(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{199:function(e,t,n){},200:function(e,t,n){},303:function(e,t,n){},326:function(e,t,n){},327:function(e,t,n){"use strict";n.r(t);var a,c=n(0),s=n.n(c),r=n(43),i=n.n(r),l=n(58),o=(n(199),n(78)),u=n(19),d=n(13),j=n(407),b=n(104),m=n(406),h=n(408),p=n(388),x=n(399),O=n(405),f=n(383),v=n(391),g=n(392),S=n(400),y=n(386),_=n(396),C=n(404),w=n(166),N=n.n(w),E=n(165),P=n.n(E),k=n(397),T=n(27),q=n(398),V=n(164),A=n.n(V),I=(n(200),n(1)),M=function(e){var t=e.query,n=e.setSearchValue,a=e.select,c=e.setSelectValue,s=e.page,r=e.setSelectPage,i=e.setSelectView,l=e.view;return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:"header",children:[Object(I.jsxs)(k.a,{component:"form",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:400},children:[Object(I.jsx)(T.c,{sx:{ml:1,flex:1},placeholder:"Search...",inputProps:{"aria-label":"search"},value:t,onChange:function(e){n(e.target.value)}}),Object(I.jsx)(q.a,{type:"submit",sx:{p:"10px"},"aria-label":"search",children:Object(I.jsx)(A.a,{})})]}),Object(I.jsx)(x.a,{sx:{minWidth:120},children:Object(I.jsxs)(S.a,{fullWidth:!0,children:[Object(I.jsx)(v.a,{id:"demo-simple-select-label",children:"Alphabet"}),Object(I.jsxs)(y.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:a,label:"Alphabet",onChange:function(e){c(e.target.value)},children:[Object(I.jsx)(g.a,{value:"ASC",children:"ASC"}),Object(I.jsx)(g.a,{value:"DESC",children:"DESC"})]})]})}),Object(I.jsx)(x.a,{sx:{minWidth:120},children:Object(I.jsxs)(S.a,{fullWidth:!0,children:[Object(I.jsx)(v.a,{id:"demo-simple-select-label",children:"Posts"}),Object(I.jsxs)(y.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:s,label:"pagePosts",onChange:function(e){r(e.target.value)},children:[Object(I.jsx)(g.a,{value:"6",children:"6"}),Object(I.jsx)(g.a,{value:"12",children:"12"}),Object(I.jsx)(g.a,{value:"24",children:"24"})]})]})}),Object(I.jsxs)(_.a,{orientation:"horizontal",value:l,exclusive:!0,onChange:function(e,t){i(t)},children:[Object(I.jsx)(C.a,{value:"module","aria-label":"module",children:Object(I.jsx)(P.a,{})}),Object(I.jsx)(C.a,{value:"list","aria-label":"list",children:Object(I.jsx)(N.a,{})})]})]})})},W=n(42),R=n(393),B=n(60),L=B.a({title:B.b().min(5,"Must be 5 characters or more").max(50,"Must be 50 characters or less").required("Required"),body:B.b().required("Required")}),z=B.a({name:B.b().min(5,"Must be 5 characters or more").max(50,"Must be 50 characters or less").required("Required"),body:B.b().required("Required"),email:B.b().email("Invalid email").required("Required")}),D=(n(303),n(38)),F=n.n(D),U=n(65),H="SET_POSTS",J="SET_POST",G="SET_COMMENTS",K="SET_COMMENT",Q="SET_LOADER",X="SET_SEARCH_VALUE",Y="SET_SELECT_VALUE",Z="SET_SELECT_PAGE",$="SET_SELECT_VIEW",ee=n(172),te=n.n(ee).a.create({baseURL:"https://jsonplaceholder.typicode.com/"}),ne=function(e,t,n){return te[e]("".concat(t),n)},ae=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ne(e,t,n)}},ce={removePost:function(e){return ae("delete","/posts/".concat(e))()},getPosts:ae("get","/posts"),getPostComments:function(e){return ae("get","/posts/".concat(e,"/comments"))()},getPost:function(e){return ae("get","/posts/".concat(e))()},addPost:function(e){return ae("post","/posts")(e)},addComment:function(e){return ae("post","/posts")(e)}},se=function(e){return{type:J,post:e}},re=function(e){return{type:Q,loader:e}},ie=Object(l.b)(null,{addNewPost:function(e){return function(){var t=Object(U.a)(F.a.mark((function t(n){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce.addPost(e);case 3:n(se(e)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("-------e",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.addNewPost;return Object(I.jsxs)("div",{className:"create",children:[Object(I.jsx)("h1",{className:"create__title",children:"Create a post"}),Object(I.jsx)(W.c,{initialValues:{title:"",body:""},validationSchema:L,onSubmit:function(e,n){var a=n.setSubmitting,c=n.resetForm;t(e),console.log("1"),a(!1),c()},children:function(e){var t=e.values,n=e.handleChange,a=e.handleBlur,c=e.handleSubmit,s=e.isSubmitting;return Object(I.jsxs)(W.b,{onSubmit:c,className:"create__form",children:[Object(I.jsx)(R.a,{placeholder:"Title",name:"title",onChange:n,onBlur:a,value:t.title,className:"create__input",helperText:Object(I.jsx)(W.a,{name:"title"})}),Object(I.jsx)(R.a,{placeholder:"Text",name:"body",onChange:n,onBlur:a,value:t.body,className:"create__input",helperText:Object(I.jsx)(W.a,{name:"body"})}),Object(I.jsx)(O.a,{type:"submit",disabled:s,className:"create__button",variant:"contained",children:"Submit"})]})}})]})}));function le(e,t){return e.sort((function(e,n){switch(t){case"ASC":return e.title.localeCompare(n.title);case"DESC":return n.title.localeCompare(e.title);default:return}}))}var oe=Object(l.b)((function(e){return{posts:e.posts,loader:e.loader,query:e.query,select:e.select,page:e.page,view:e.view}}),{loadPosts:function(){return function(){var e=Object(U.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.getPosts().then((function(e){var n;t((n=e.data,{type:H,posts:n}))}));case 3:t(re(!1)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("-------e",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},setSearchValue:function(e){return function(t){t({type:X,query:e})}},setSelectValue:function(e){return function(t){t({type:Y,select:e})}},setSelectPage:function(e){return function(t){t({type:Z,page:e})}},setSelectView:function(e){return function(t){t({type:$,view:e})}}})((function(e){var t=e.page,n=e.setSelectPage,s=e.setSelectValue,r=e.select,i=e.setSearchValue,l=e.query,u=e.posts,v=e.loadPosts,g=e.view,S=e.setSelectView,y=Object(c.useState)(1),_=Object(d.a)(y,2),C=_[0],w=_[1],N=Object(c.useState)(!1),E=Object(d.a)(N,2),P=E[0],k=E[1],T=Object(c.useState)([]),q=Object(d.a)(T,2),V=q[0],A=q[1],W=C*+t,R=W-+t;return Object(c.useEffect)((function(){v()}),[]),Object(c.useEffect)((function(){a="list"===g?540:370,A(u.slice(R,W))}),[u,C,t,g]),Object(c.useEffect)((function(){l.trim()?A(le(u.slice(R,W).filter((function(e){return e.title.includes(l)})),r)):A(le(u.slice(R,W),r))}),[l,r]),Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{style:{height:"100%",width:"100%",display:"flex",flexWrap:"wrap",justifyContent:"center"},children:[Object(I.jsxs)(x.a,{sx:{"& button":{m:1}},children:[Object(I.jsx)(M,{setSearchValue:i,query:l,select:r,setSelectValue:s,setSelectPage:n,page:t,setSelectView:S,view:g}),Object(I.jsx)(O.a,{variant:"outlined",size:"large",onClick:function(){k(!P)},children:"Create a post"}),P&&Object(I.jsx)(ie,{})]}),V.map((function(e){return Object(I.jsxs)(m.a,{sx:{maxWidth:{maxWidth:a},margin:"10px"},className:"cards",children:[Object(I.jsxs)(j.a,{children:[Object(I.jsx)(b.a,{variant:"h5",component:"div",children:e.title}),Object(I.jsx)(b.a,{variant:"body2",children:e.body})]}),Object(I.jsx)(h.a,{children:Object(I.jsx)(o.b,{to:"/posts/".concat(e.id),children:"Read more"})})]},e.id)})),Object(I.jsx)(f.a,{spacing:2,m:"auto",className:"pagination",children:l?Object(I.jsx)(p.a,{size:"large",count:Math.ceil(V.length/+t),page:C,onChange:function(e,t){return w(t)}}):Object(I.jsx)(p.a,{size:"large",count:Math.ceil(u.length/+t),page:C,onChange:function(e,t){return w(t)}})})]})})})),ue=function(e){return{type:K,comment:e}},de=function(e){var t=e.addNewComment;return Object(I.jsxs)("div",{className:"create",children:[Object(I.jsx)("h1",{className:"create__title",children:"Add a comment"}),Object(I.jsx)(W.c,{initialValues:{name:"",body:"",email:""},validationSchema:z,onSubmit:function(e,n){var a=n.setSubmitting,c=n.resetForm;t(e),a(!1),c()},children:function(e){var t=e.values,n=e.handleChange,a=e.handleBlur,c=e.handleSubmit,s=e.isSubmitting;return Object(I.jsxs)(W.b,{onSubmit:c,className:"create__form",children:[Object(I.jsx)(R.a,{placeholder:"Name",name:"name",onChange:n,onBlur:a,value:t.name,className:"create__input",helperText:Object(I.jsx)(W.a,{name:"name"})}),Object(I.jsx)(R.a,{placeholder:"Email",name:"email",onChange:n,onBlur:a,value:t.email,className:"create__input",helperText:Object(I.jsx)(W.a,{name:"email"})}),Object(I.jsx)(R.a,{placeholder:"Text",name:"body",onChange:n,onBlur:a,value:t.body,className:"create__input",helperText:Object(I.jsx)(W.a,{name:"body"})}),Object(I.jsx)(O.a,{type:"submit",disabled:s,className:"create__button",variant:"contained",children:"Submit"})]})}})]})},je=(n(326),function(e){var t,n=e.post,a=e.match,s=e.loadPost,r=e.loadComments,i=e.addNewComment,l=e.comments,o=null===a||void 0===a||null===(t=a.params)||void 0===t?void 0:t.postId;return Object(c.useEffect)((function(){s(o),r(o)}),[]),n?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("section",{children:Object(I.jsxs)("article",{className:"post",children:[Object(I.jsx)(b.a,{variant:"h3",component:"h2",children:n.title}),Object(I.jsx)("p",{className:"post__text",children:n.body}),Object(I.jsx)("div",{className:"post__comments",children:"Comments"}),Object(I.jsx)("ul",{className:"post__comment",children:l.map((function(e){return Object(I.jsxs)("div",{className:"post__card",children:[Object(I.jsx)("li",{className:"post__title",children:e.name}),Object(I.jsx)("li",{className:"post__email",children:Object(I.jsx)("a",{className:"post__email",href:"#",children:e.email})}),Object(I.jsx)("li",{className:"post__body",children:e.body})]})}))})]})}),Object(I.jsx)(de,{addNewComment:i})]}):Object(I.jsx)("section",{children:Object(I.jsx)("h2",{children:"Post not found!"})})}),be=Object(u.g)(Object(l.b)((function(e){return{post:e.post,comments:e.comments}}),{loadComments:function(e){return function(){var t=Object(U.a)(F.a.mark((function t(n){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce.getPostComments(e).then((function(e){var t;n((t=e.data,{type:G,comments:t}))}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log("-------e",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()},loadPost:function(e){return function(){var t=Object(U.a)(F.a.mark((function t(n){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce.getPost(e).then((function(e){n(se(e.data))}));case 3:n(re(!1)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("-------e",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},addNewComment:function(e){return function(){var t=Object(U.a)(F.a.mark((function t(n){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce.addComment(e);case 3:n(ue(e)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("-------e",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}})(je)),me=[{page:Object(I.jsx)(oe,{}),path:"/"},{page:Object(I.jsx)(ie,{}),path:"/create"},{page:Object(I.jsx)(be,{}),path:"/posts/:postId"}],he=n(387),pe=n(401),xe=n(390),Oe=n(384),fe=n(385),ve=n(382),ge=Object(he.a)({page:{maxWidth:"1200px",height:"100%",padding:"70px",fontSize:"16px",fontWight:"400",lineHeight:"1.5"},drawer:{width:"100%",display:"flex",height:"50px",background:"#f4f4f4",textTransform:"uppercase"},item:{justifyContent:"start",maxWidth:"150px"},root:{display:"flex",flexDirection:"column",alignItems:"center"},active:{background:"#f4f4f4"},box:{position:"fixed",zIndex:1,width:400,height:100,top:"5%",right:"0%",border:"1px solid",p:1,background:"#f4f4f4"},like:{position:"absolute",width:70,height:50,top:"10%",right:"0%",background:"#f4f4f4",cursor:"pointer"},button:{border:"none"}}),Se=function(e){var t=e.children,n=ge(),a=Object(u.f)(),c=s.a.useState(!1),r=Object(d.a)(c,2),i=r[0],l=r[1];return Object(I.jsxs)("div",{className:n.root,children:[Object(I.jsxs)(pe.a,{className:n.drawer,children:[[{text:"Posts",path:"/"},{text:"Add new post",path:"/create"}].map((function(e){return Object(I.jsx)(xe.a,{className:n.item,button:!0,onClick:function(){return a.push(e.path)},children:Object(I.jsx)(Oe.a,{primary:e.text})},e.text)})),Object(I.jsx)(fe.a,{onClickAway:function(){l(!1)},children:Object(I.jsxs)("div",{children:[Object(I.jsx)("button",{type:"button",onClick:function(){l((function(e){return!e}))},className:n.button,children:Object(I.jsx)("img",{className:n.like,src:"https://icon-library.com/images/heart-icon-svg/heart-icon-svg-29.jpg",alt:""})}),i?Object(I.jsx)(ve.a,{children:Object(I.jsx)(x.a,{className:n.box,children:"Click me, I will stay visible until you click outside."})}):null]})})]}),Object(I.jsx)("div",{className:n.page,children:t})]})},ye=function(){return Object(I.jsx)(o.a,{children:Object(I.jsx)(Se,{children:Object(I.jsx)(u.c,{children:me.map((function(e){return Object(I.jsx)(u.a,{exact:!0,path:e.path,children:e.page},e.path)}))})})})},_e=n(124),Ce=n(174),we=n(20),Ne={posts:[],post:null,comments:[],comment:null,userId:null,loader:!0,query:"",select:"",page:"6",view:"module"},Ee=Object(_e.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(we.a)(Object(we.a)({},e),{},{posts:t.posts});case J:return Object(we.a)(Object(we.a)({},e),{},{post:t.post});case G:return Object(we.a)(Object(we.a)({},e),{},{comments:t.comments});case K:return Object(we.a)(Object(we.a)({},e),{},{comment:t.comment});case Q:return Object(we.a)(Object(we.a)({},e),{},{loader:t.loader});case X:return Object(we.a)(Object(we.a)({},e),{},{query:t.query});case Y:return Object(we.a)(Object(we.a)({},e),{},{select:t.select});case Z:return Object(we.a)(Object(we.a)({},e),{},{page:t.page});case $:return Object(we.a)(Object(we.a)({},e),{},{view:t.view});default:return e}}),Object(_e.a)(Ce.a)),Pe=function(){return Object(I.jsx)(l.a,{store:Ee,children:Object(I.jsx)(s.a.StrictMode,{children:Object(I.jsx)(ye,{})})})};i.a.render(Object(I.jsx)(Pe,{}),document.getElementById("root"))}},[[327,1,2]]]);
//# sourceMappingURL=main.d578f447.chunk.js.map